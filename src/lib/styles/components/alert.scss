// —————————————————————————————————————————————————————————————————
// mixins
// animation
// elements
// type
// variant
// dense
// —————————————————————————————————————————————————————————————————

// —————————————————————————————————————————————————————————————————
// mixins
// —————————————————————————————————————————————————————————————————

@mixin type($colors...) {
  @each $i in $colors {
    .alert--#{nth($i, 1)} {
      background-color: nth($i, 2);
      color: nth($i, 3);

      .alert__icon {
        stroke: nth($i, 3);
      }
    }
  }
}

// —————————————————————————————————————————————————————————————————
// animation
// —————————————————————————————————————————————————————————————————

@keyframes slideIn {
  0% { transform: translateX(100%) translateX($spacing*6); }
  100% { transform: translateX(0); }
}

@keyframes slideOut {
  0% { transform: translateX(0); }
  100% { transform: translateX(100%) translateX($spacing*6); }
}

@keyframes slideBarIn {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(0); }
}

@keyframes slideBarOut {
  0% { transform: translateY(0); }
  100% { transform: translateY(-100%); }
}

// —————————————————————————————————————————————————————————————————
// elements
// —————————————————————————————————————————————————————————————————

.alert {
  padding: $spacing*1.5;
  border-radius: $border-radius-md;
  display: flex;
  z-index: 1000;
  
  &__icon {
    margin-right: $spacing;
    flex-shrink: 0;
  }

  &__title {
    display: flex;
    justify-content: space-between;
  }

  &__close {
    cursor: pointer;
    position: absolute;
    top: $spacing*0.25;
    right: $spacing*0.25;
  }
}

// —————————————————————————————————————————————————————————————————
// type
// —————————————————————————————————————————————————————————————————

@include type (
  "success"   $success-light  $success-text,
  "info"      $info-light     $info-text,
  "warning"   $warning-light  $warning-text,
  "error"     $error-light    $error-text
);

// —————————————————————————————————————————————————————————————————
// variant
// —————————————————————————————————————————————————————————————————

.alert {

  &--toast {
    position: fixed;
    top: $spacing*4;
    right: $spacing*4;
    animation-fill-mode: forwards !important;
    
    &.alert--slideIn { animation: slideIn $transition-md; }
    &.alert--slideOut { animation: slideOut $transition-md; }

    .alert__content {
      flex-grow: 1;   
    }
  }
  
  &--bar {
    position: fixed;
    top: 0;
    right: 0;
    left: 0;
    width: 100vw;
    bottom: auto;
    border-radius: 0;
    justify-content: center;
    animation-fill-mode: forwards !important;

    &.alert--slideIn { animation: slideBarIn $transition-md; }
    &.alert--slideOut { animation: slideBarOut $transition-md; }

    .alert__content {
      text-align: center;
    }
  }
  
  &--notice {
    position: relative;
    width: 100%;
  }
}

// —————————————————————————————————————————————————————————————————
// dense
// —————————————————————————————————————————————————————————————————

.alert--dense {
  padding: $spacing;
  border-radius: $border-radius-sm;
}